{
    "type": "window",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "designer|userClassName": "credentials",
        "height": 140,
        "id": "credentials",
        "width": 350,
        "layout": "fit",
        "closable": false,
        "closeAction": null,
        "title": "Authentification",
        "maximizable": false,
        "maximized": false,
        "modal": true
    },
    "id": "ExtBox1-ext-gen103307",
    "designerId": "8c8e161d-3b83-442d-a094-bbbbea5387fd",
    "cn": [
        {
            "type": "form",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|userClassName": "MyForm",
                "designer|displayName": "Form",
                "id": null,
                "bodyPadding": 10,
                "title": null,
                "url": "http://127.0.0.1/git/startx_api/session/auth?format=json"
            },
            "designerId": "775f8e70-8e60-4838-8a1f-cb99f9d5a60e",
            "cn": [
                {
                    "type": "textfield",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "layout|anchor": "100%",
                        "designer|userClassName": "MyTextField",
                        "name": "login",
                        "fieldLabel": "Login",
                        "labelAlign": "right",
                        "allowBlank": false,
                        "vtype": "alphanum"
                    },
                    "designerId": "efc4c954-ad34-44ce-bd89-13e6ab14e8e6"
                },
                {
                    "type": "textfield",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "layout|anchor": "100%",
                        "designer|userClassName": "MyTextField",
                        "inputType": "password",
                        "name": "pwd",
                        "fieldLabel": "Password",
                        "labelAlign": "right",
                        "allowBlank": false,
                        "vtype": "alphanum"
                    },
                    "designerId": "ca521e58-6303-4c99-9436-a597120e6fda"
                },
                {
                    "type": "toolbar",
                    "reference": {
                        "name": "dockedItems",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dock": "bottom",
                        "designer|userClassName": "MyToolbar"
                    },
                    "configAlternates": {
                        "componentLayout": "string"
                    },
                    "designerId": "dfbd17ac-6790-4b07-ae94-e868d6766f10",
                    "cn": [
                        {
                            "type": "button",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "layout|flex": null,
                                "designer|userClassName": "MyButton2",
                                "text": "Connection"
                            },
                            "designerId": "8b7234ba-01c5-407c-a618-38891fcd266d",
                            "cn": [
                                {
                                    "type": "fixedfunction",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "designer|userClassName": "handler",
                                        "fn": "handler",
                                        "designer|params": [
                                            "button",
                                            "event"
                                        ],
                                        "implHandler": [
                                            "var logform = this.up('form').getForm();",
                                            "loginwindow = this.up('window');",
                                            "if (logform.isValid()) {",
                                            "    logform.submit({",
                                            "        success: function(form, action) {",
                                            "            Ext.getCmp('loadingmessagebox').update('... '+action.result.message+' ...');",
                                            "            var values = form.getValues();",
                                            "            var credentialstore = Ext.getStore('credential');",
                                            "            credentialstore.add(form.getValues());",
                                            "            credentialstore.save();",
                                            "            var storedInfo = credentialstore.first();",
                                            "            loginwindow.hide();",
                                            "            SxapiManager.getApplication().launchMain();",
                                            "        },",
                                            "        failure: function(form, action) {",
                                            "            var response = JSON.parse(action.response.responseText);",
                                            "            Ext.getCmp('loadingmessagebox').update('... authentication failed ...');",
                                            "            Ext.Msg.alert('Authentication error', response.success ? response.message : 'Error in server response');",
                                            "        }",
                                            "    });",
                                            "}",
                                            "else {",
                                            "    Ext.Msg.alert('Wrong input', 'You have to fill all required fields');",
                                            "}"
                                        ]
                                    },
                                    "designerId": "b29e19fb-cb02-4ec1-bec1-54e0494b1509"
                                }
                            ]
                        }
                    ]
                }
            ]
        }
    ]
}